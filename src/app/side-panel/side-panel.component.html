<div class="side-panel" [class.open]="open">
  <header class="top">
    <h2 *ngIf="open">Console</h2>
    <button class="opener" (click)="togglePanel()">
      <ng-container *ngIf="open; else unfoldIcon">
        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" color="#b4b8bb" height="1em"
          width="1em" xmlns="http://www.w3.org/2000/svg" style="color: rgb(180, 184, 187);">
          <path
            d="M5 5H13V19H5V5ZM19 19H15V5H19V19ZM4 3C3.44772 3 3 3.44772 3 4V20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20V4C21 3.44772 20.5523 3 20 3H4ZM7 12L11 8.5V15.5L7 12Z">
          </path>
        </svg>
      </ng-container>
      <ng-template #unfoldIcon>
        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" color="#b4b8bb" height="1em"
          width="1em" xmlns="http://www.w3.org/2000/svg" style="color: rgb(180, 184, 187);">
          <path
            d="M5 5H13V19H5V5ZM19 19H15V5H19V19ZM4 3C3.44772 3 3 3.44772 3 4V20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20V4C21 3.44772 20.5523 3 20 3H4ZM11 12L7 8.5V15.5L11 12Z">
          </path>
        </svg>
      </ng-template>
    </button>
  </header>

  <section class="indicators">
    <app-custom-select 
      (selectionChange)="onSelectedOptionChange($event)" 
      [defaultValue]="selectedFilter"
      [options]="filterOptions">
    </app-custom-select>

    <div class="streaming-indicator" [class.connected]="connected">
      {{ connected ? 'üîµ' : '‚è∏Ô∏è' }}
      {{ open ? (connected ? ' Streaming' : ' Paused') : '' }}
    </div>
  </section>

  <div #loggerContainer class="side-panel-container">
    <app-logger [filter]="selectedFilter"></app-logger>
  </div>

  <div class="input-container" [class.disabled]="!connected">
    <div class="input-content">
      <textarea #inputArea class="input-area" [(ngModel)]="textInput" (keydown)="onKeyDown($event)"></textarea>

      <span class="input-content-placeholder" [class.hidden]="textInput.length > 0">
        Type&nbsp;something...
      </span>

      <button class="send-button material-symbols-outlined filled" (click)="handleSubmit()">
        send
      </button>
    </div>
  </div>
</div>